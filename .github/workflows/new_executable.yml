name: Build Binary

on:
  workflow_dispatch:

jobs: 
    build:
        name: "Build Binary"
        runs-on: ubuntu-latest
        permissions:
            contents: read
            packages: write
        strategy:
            fail-fast: false
        steps:
            - uses: actions/checkout@v4
              with:
                repository: 'VeroFess/PalWorld-Server-Unoffical-Api'
                ref: main
            - name: Get current date
              id: date
              run: echo "::set-output name=date::$(date +'%Y-%m-%d')"
            - name: Install compiler
              id: install_cc
              uses: rlalik/setup-cpp-compiler@master
              with:
                compiler: gcc-latest
            - uses: xmake-io/github-action-setup-xmake@v1
              with:
                xmake-version: latest
            - name: Build Binary
              run: |
                git submodule update --init --recursive
            - name: Debugging
              run: |
                ls -ltr .
            